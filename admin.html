<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Phase 3ï½œå…¬é—œå“å¾Œè‡ºç®¡ç†ç³»çµ±</title>
<style>
  /* å…¨åŸŸæ¨£å¼ */
  body, html {
    height: 100%;
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", Arial, sans-serif;
    background: #f0f2f5;
    color: #333;
  }

  /* ç™»å…¥é é¢æ¨£å¼ï¼šä½”æ»¿å…¨è¢å¹•ä¸¦ç½®ä¸­ */
  #loginView {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    width: 100%;
    background: linear-gradient(135deg, #0A84FF 0%, #0056b3 100%);
  }

  .login-card {
    background: #fff;
    padding: 32px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 360px;
  }

  /* ç®¡ç†é é¢æ¨£å¼ï¼šé è¨­éš±è— */
  #adminView {
    display: none; /* ç™»å…¥å‰éš±è— */
    padding: 20px;
    min-height: 100vh;
    box-sizing: border-box;
  }

  /* å…±ç”¨çµ„ä»¶ */
  .panel {
    background: #fff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    margin-bottom: 20px;
  }

  h1 { margin-top: 0; font-size: 24px; color: #1a1a1a; }
  label { display: block; margin-bottom: 6px; font-size: 14px; font-weight: 500; }
  input, select {
    width: 100%;
    padding: 12px;
    margin-bottom: 16px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-sizing: border-box;
  }

  .btn {
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.2s;
  }
  .btn-primary { background: #0A84FF; color: white; width: 100%; }
  .btn-primary:hover { background: #0070e0; }
  .btn-danger { background: #ff3b30; color: white; }

  /* é ç±¤ Tab æ¨£å¼ */
  .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
  .tab {
    padding: 10px 20px;
    background: #e4e6eb;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
  }
  .tab.active { background: #0A84FF; color: white; }

  /* è¡¨æ ¼æ¨£å¼ */
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; font-size: 14px; }
  th { background: #f8f9fa; color: #666; }

  .status-pill {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
  }
  .s-preparing { background: #fff7ed; color: #9a3412; }
  .s-submitted { background: #e0f2fe; color: #075985; }

  .hidden { display: none; }
</style>
</head>
<body>

  <div id="loginView">
    <div class="login-card">
      <h2 style="text-align: center; margin-bottom: 24px;">ç®¡ç†å“¡ç™»å…¥</h2>
      <label>å¸³è™Ÿ</label>
      <input type="text" id="user" value="admin">
      <label>å¯†ç¢¼</label>
      <input type="password" id="pass" value="1234">
      <button class="btn btn-primary" onclick="handleLogin()">ç™»å…¥ç³»çµ±</button>
      <p style="font-size: 12px; color: #666; text-align: center; margin-top: 15px;">é è¨­ï¼šadmin / 1234</p>
    </div>
  </div>

  <div id="adminView">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h1>ğŸ› ï¸ å…¬é—œå“ç®¡ç†å¾Œè‡º</h1>
      <div>
        <span id="adminName" style="margin-right: 15px; font-weight: bold;"></span>
        <button class="btn btn-danger" onclick="handleLogout()">ç™»å‡º</button>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" onclick="switchPage('orders', this)">è¨‚å–®ç®¡ç†</div>
      <div class="tab" onclick="switchPage('inventory', this)">åº«å­˜ç›¤é»</div>
    </div>

    <div id="page-orders" class="admin-page">
      <div class="panel">
        <h3>å³æ™‚è¨‚å–®åˆ—è¡¨</h3>
        <table>
          <thead>
            <tr>
              <th>è¨‚å–®ç·¨è™Ÿ</th>
              <th>ç”³è«‹äºº</th>
              <th>éƒ¨é–€</th>
              <th>ç‹€æ…‹</th>
              <th>é‡‘é¡</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
          <tbody id="ordersBody">
            </tbody>
        </table>
      </div>
    </div>

    <div id="page-inventory" class="admin-page hidden">
      <div class="panel">
        <h3>å•†å“åº«å­˜ç‹€æ³</h3>
        <p class="muted">æ­¤è™•å¯èˆ‡ Sheet 2 çš„åº«å­˜è³‡æ–™é€²è¡ŒåŒæ­¥ã€‚</p>
        <table>
          <thead>
            <tr>
              <th>å•†å“åç¨±</th>
              <th>å–®åƒ¹</th>
              <th>ç¾æœ‰æ•¸é‡</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>åŒ—é†«å¹³å®‰åŒ…</td>
              <td>460</td>
              <td>15</td>
              <td><button onclick="alert('é–‹å•Ÿèª¿æ•´å½ˆçª—')">èª¿æ•´</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // è™›æ“¬è³‡æ–™
    const MOCK_ORDERS = [
      { id: 'TASK-103', name: 'å¼µæ™ºç¶­', dept: 'ER', status: 'PREPARING', amount: 1660 },
      { id: 'TASK-104', name: 'æå°å§', dept: 'ICU', status: 'SUBMITTED', amount: 460 }
    ];

    // ç™»å…¥é‚è¼¯
    function handleLogin() {
      const u = document.getElementById('user').value;
      const p = document.getElementById('pass').value;

      if (u === 'admin' && p === '1234') {
        // [é—œéµé»]ï¼šéš±è—ç™»å…¥é ï¼Œé¡¯ç¤ºç®¡ç†é 
        document.getElementById('loginView').style.display = 'none';
        document.getElementById('adminView').style.display = 'block';
        document.getElementById('adminName').innerText = "ç®¡ç†è€…ï¼š" + u;
        
        renderOrders(); // è¼‰å…¥è³‡æ–™
      } else {
        alert('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤');
      }
    }

    // ç™»å‡ºé‚è¼¯
    function handleLogout() {
      if(confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ')) {
        location.reload(); // æœ€ç°¡å–®çš„ç™»å‡ºæ–¹å¼ï¼šé‡æ–°æ•´ç†é é¢
      }
    }

    // åˆ†é åˆ‡æ›é‚è¼¯
    function switchPage(pageId, el) {
      // éš±è—æ‰€æœ‰åˆ†é 
      document.querySelectorAll('.admin-page').forEach(p => p.classList.add('hidden'));
      // é¡¯ç¤ºç›®æ¨™åˆ†é 
      document.getElementById('page-' + pageId).classList.remove('hidden');
      
      // æ›´æ–° Tab æ¨£å¼
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      el.classList.add('active');
    }

    // æ¸²æŸ“è¨‚å–®
    function renderOrders() {
      const body = document.getElementById('ordersBody');
      body.innerHTML = MOCK_ORDERS.map(o => `
        <tr>
          <td>${o.id}</td>
          <td>${o.name}</td>
          <td>${o.dept}</td>
          <td><span class="status-pill s-${o.status.toLowerCase()}">${o.status}</span></td>
          <td>NT$ ${o.amount}</td>
          <td><button onclick="alert('è¼‰å…¥ ${o.id} æ˜ç´°')">æŸ¥çœ‹</button></td>
        </tr>
      `).join('');
    }
  </script>
</body>
</html>
